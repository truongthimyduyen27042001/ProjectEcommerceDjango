<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register</title>
    <link rel="stylesheet" href="{% static 'css/store/login.css' %}" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link
      href="{% static 'fontawesomefree/css/all.min.css' %}"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="{% static 'fontawesomefree/css/fontawesome.css' %}"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="{% static 'fontawesomefree/css/brands.css' %}"
      rel="stylesheet"
      type="text/css"
    />
    <link
      href="{% static 'fontawesomefree/css/solid.css' %}"
      rel="stylesheet"
      type="text/css"
    />
  </head>
  <body>
    <div class="auth">
      <div class="preloader">
        <div class="preloader-icon"></div>
      </div>
      <div class="form-wrapper d-flex">
        <div class="container">
          <div class="card">
            <div class="row g-0 m-0">
              <div
                class="col d-none d-lg-flex border-end align-items-center flex-column text-center"
              >
                <div class="logo">
                  <img
                    src="{% static 'images/shoes-icon.png' %}"
                    width="100px"
                    alt=""
                  />
                </div>
                <div>
                  <h3 class="fw-bold">Welcome to DuTu!</h3>
                  <p class="lead my-5">You are registering for an account</p>
                </div>
                <ul class="images-list d-flex mt-5">
                  <li class="image-item mr-2">
                    <img
                      src="{% static 'images/icon-shoes-converse.png' %}"
                      width="70px"
                      alt=""
                    />
                  </li>
                  <li class="image-item mr-2">
                    <img
                      src="{% static 'images/school-bag-icon.jpg' %}"
                      width="70px"
                      alt=""
                    />
                  </li>
                  <li class="image-item mr-2">
                    <img
                      src="{% static 'images/shirt-icon2.png' %}"
                      width="70px"
                      alt=""
                    />
                  </li>
                  <li class="image-item mr-2">
                    <img
                      src="{% static 'images/skirt-icon.png' %}"
                      width="70px"
                      alt=""
                    />
                  </li>
                </ul>
              </div>
              <div class="col">
                <div class="row">
                  <div class="col-md-10 offset-md-1">
                    <div class="d-block d-lg-none text-center text-lg-start">
                      <img
                        src="{% static 'images/shoes-icon.png' %}"
                        width="50px"
                        alt=""
                      />
                    </div>
                    <div class="my-3 text-left">
                      <h1 class="display-8">Sign In</h1>
                      <p class="text-muted">Sign in to DuTu to continue</p>
                    </div>
                    <form class="register-form mb-5" action="{% url 'store:register' %}" method="POST">
                      {% csrf_token %} 
                      <div class="mb-3">
                        {{rgForm.username.label}}
                        {{rgForm.username}}
                      </div>
                      <div class="mb-3">
                        {{rgForm.email.label}}
                        {{rgForm.email}}
                      </div>
                      <div class="mb-3">
                        {{rgForm.password.label}}
                        {{rgForm.password}}
                      </div>
                      <div class="mb-3">
                        <label for="">Password again</label>
                        {{rgForm.password2}}
                      </div>
                      <div class="text-left text-lg-start">
                        <p class="small">
                          Can't access your account?
                          <a href="#">Reset your password now</a>.
                        </p>
                        <button class="btn btn-primary" id="btn-register">Register Now</button>
                      </div>
                    </form>
                    <p class="text-center d-block d-lg-none mt-5 mt-lg-0">
                      Don't have an account? <a href="">Register</a>.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
      function getToken(name) {
          let cookieValue = null;
          if (document.cookie && document.cookie !== '') {
              const cookies = document.cookie.split(';');
              for (let i = 0; i < cookies.length; i++) {
                  const cookie = cookies[i].trim();
                  // Does this cookie string begin with the name we want?
                  if (cookie.substring(0, name.length + 1) === (name + '=')) {
                      cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                      break;
                  }
              }
          }
          return cookieValue;
      }
      const csrftoken = getToken('csrftoken');
  </script>
  </body>
</html>
